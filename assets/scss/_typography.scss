@use 'sass:math';

@use 'variables' as *;

// Merriweather serif & sans serif from Google
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Merriweather+Sans:wght@300;400;500;600;700;800&family=Merriweather:wght@300;400;700;900&display=swap');

// Inter snas serif from Google
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Lora:wght@400;500;600;700&family=Merriweather+Sans:wght@300;400;500;600;700;800&family=Merriweather:wght@300;400;700;900&display=swap');

// Montserrat sans serif from Adobe
@import url('https://use.typekit.net/nwr4chk.css');

// Font size curve slope
@function get-slope($step, $multiplier-sm, $multiplier-lg) {
  $slope: 100 *
    math.div($font-max-size * $multiplier-lg - $font-min-size * $multiplier-sm, $fluid-max-width - $fluid-min-width) *
    1vw;
  @return $slope;
}

// Font size curve inrecept
@function get-intercept($step, $multiplier-sm, $multiplier-lg) {
  $intercept: (
      math.div(
        $font-min-size * $fluid-max-width * $multiplier-sm - $font-max-size * $fluid-min-width * $multiplier-lg,
        $fluid-max-width - $fluid-min-width
      )
    ) * math.div(1, 16) * $font-base;
  @return $intercept;
}

:root {
  @each $step in $size-steps {
    --size-step-#{$step}: clamp(
      #{$font-min-size * math.pow($type-scale-sm, $step) * math.div(1, 16) * $font-base},
      calc(
        #{get-slope($step, math.pow($type-scale-sm, $step), math.pow($type-scale-lg, $step))} +
          #{get-intercept($step, math.pow($type-scale-sm, $step), math.pow($type-scale-lg, $step))}
      ),
      #{$font-max-size * math.pow($type-scale-lg, $step) * math.div(1, 16) * $font-base}
    );
  }

  // @each $step, $range in $space-steps {
  //   --space-#{$step}: clamp(
  //     #{map-get($map: $range, $key: min) *
  //       $font-min-size *
  //       math.div(1, 16) *
  //       $font-base},
  //     calc(
  //       #{100 *
  //         (
  //           math.div(
  //             $font-max-size *
  //               map-get($map: $range, $key: max) -
  //               $font-min-size *
  //               map-get($map: $range, $key: min),
  //             $fluid-max-width - $fluid-min-width
  //           )
  //         ) *
  //         1vw} +
  //         #{math.div(
  //           $font-min-size *
  //             $fluid-max-width *
  //             map-get($map: $range, $key: min) -
  //             $font-max-size *
  //             $fluid-min-width *
  //             map-get($map: $range, $key: max),
  //           $fluid-max-width - $fluid-min-width
  //         ) *
  //         math.div(1, 16) *
  //         $font-base},
  //       #{map-get($map: $range, $key: max) *
  //         $font-max-size *
  //         math.div(1, 16) *
  //         $font-base}
  //     )
  //   );
  // }

  --font-serif: 'Merriweather', serif;
  --font-base: 'Inter', sans-serif;
}
